<div style="margin-top: 20px; margin-left: 45px;">
  <h2>Registro</h2>
  <!-- Botones para elegir el tipo de registro -->
  <div style="margin-top: 20px;">
    <button (click)="setTipoRegistro('paciente')" [class.active]="tipoRegistro === 'paciente'" class="btn btn-primary custom-button">Registrarse como Paciente</button>
    <button style="margin-left: 30px;" (click)="setTipoRegistro('especialista')" [class.active]="tipoRegistro === 'especialista'" class="btn btn-primary custom-button">Registrarse como Especialista</button>
  </div>
</div>
<div style="margin-left: 30px;" class="registro-container">
      
    <!-- Formulario de registro para pacientes -->
    <form *ngIf="tipoRegistro === 'paciente'" (ngSubmit)="onSubmit()" [formGroup]="regForm">
      <div class="left-column">
        <h2 class="mt-3">Alta de pacientes</h2>
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input type="text" class="form-control" id="nombre" name="nombre" [(ngModel)]="paciente.nombre" formControlName="nombre">
          <div *ngIf="regForm.controls['nombre'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['nombre'].errors!['required'] && regForm.controls['nombre'].touched">
              El nombre es requerido
            </small>
          </div>
        </div>        
        <div class="form-group">
          <label for="apellido">Apellido:</label>
          <input type="text" class="form-control" id="apellido" name="apellido" [(ngModel)]="paciente.apellido" formControlName="apellido">
          <div *ngIf="regForm.controls['apellido'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['apellido'].errors!['required'] && regForm.controls['apellido'].touched">
              El apellido es requerido
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="edad">Edad:</label>
          <input type="number" class="form-control" id="edad" name="edad" [(ngModel)]="paciente.edad" formControlName="edad">
          <div *ngIf="regForm.controls['edad'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['edad'].errors!['required'] && regForm.controls['edad'].touched">
              La edad es requerida
            </small>
            <small class="text-danger" *ngIf="regForm.controls['edad'].errors!['max'] && regForm.controls['edad'].touched">
              La edad no es válida
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="DNI">DNI:</label>
          <input type="number" class="form-control" id="DNI" name="DNI" [(ngModel)]="paciente.DNI" formControlName="DNI">
          <div *ngIf="regForm.controls['DNI'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['DNI'].errors!['required'] && regForm.controls['DNI'].touched">
              El DNI es requerido
            </small>
            <small class="text-danger" *ngIf="regForm.controls['DNI'].errors!['max'] && regForm.controls['DNI'].touched">
              El DNI no es válido
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="obraSocial">Obra Social:</label>
          <input type="text" class="form-control" id="obraSocial" name="obraSocial" [(ngModel)]="paciente.obraSocial" formControlName="obraSocial">
          <div *ngIf="regForm.controls['obraSocial'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['obraSocial'].errors!['required'] && regForm.controls['obraSocial'].touched">
              La Obra Social es requerida
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="mail">Mail:</label>
          <input type="email" class="form-control" id="mail" name="mail" [(ngModel)]="paciente.mail" formControlName="mail">
          <div *ngIf="regForm.controls['mail'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['mail'].errors!['required'] && regForm.controls['mail'].touched">
              El mail es requerido
            </small>
            <small class="text-danger" *ngIf="regForm.controls['mail'].errors!['email'] && regForm.controls['mail'].touched">
              El formato del correo no es válido
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="password">Contraseña:</label>
          <input type="password" class="form-control" id="password" name="password" [(ngModel)]="paciente.password" formControlName="password">
          <div *ngIf="regForm.controls['password'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['password'].errors!['required'] && regForm.controls['password'].touched">
              La contraseña es requerida
            </small>
            <small class="text-danger" *ngIf="regForm.controls['password'].errors!['minlength'] && regForm.controls['password'].touched">
              La contraseña debe contener al menos 6 caracteres
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="foto1">Foto 1:</label>
          <input type="file" class="form-control" (change)="onFileSelected($event)" id="foto1" name="foto1" [(ngModel)]="paciente.foto1" formControlName="foto1">
          <div *ngIf="regForm.controls['foto1'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['foto1'].errors!['required'] && regForm.controls['foto1'].touched">
              La foto 1 es requerida
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="foto2">Foto 2:</label>
          <input type="file" class="form-control" (change)="onFileSelected2($event)" id="foto2" name="foto2" [(ngModel)]="paciente.foto2" formControlName="foto2">
          <div *ngIf="regForm.controls['foto2'].errors != null">
            <small class="text-danger" *ngIf="regForm.controls['foto2'].errors!['required'] && regForm.controls['foto2'].touched">
              La foto 2 es requerida
            </small>
          </div>
        </div>
      </div>
      <button style="margin-left: 25px; font-size: 20px;" type="submit" class="btn btn-primary mt-3 custom-button">Registrarse</button>
    </form>
  
    <!-- Formulario de registro para especialistas -->
    <form *ngIf="tipoRegistro === 'especialista'" (ngSubmit)="onSubmit()" [formGroup]="regForm2">
      <div class="left-column">
        <h2 class="mt-3">Alta de especialistas</h2>
        <div class="form-group">
          <label for="nombre">Nombre:</label>
          <input type="text" class="form-control" id="nombre" name="nombre" [(ngModel)]="especialista.nombre" formControlName="nombre">
          <div *ngIf="regForm2.controls['nombre'].errors != null">
            <small class="text-danger" *ngIf="regForm2.controls['nombre'].errors!['required'] && regForm2.controls['nombre'].touched">
              El nombre es requerido
            </small>
          </div>
        </div>        
        <div class="form-group">
          <label for="apellido">Apellido:</label>
          <input type="text" class="form-control" id="apellido" name="apellido" [(ngModel)]="especialista.apellido" formControlName="apellido">
          <div *ngIf="regForm2.controls['apellido'].errors != null">
            <small class="text-danger" *ngIf="regForm2.controls['apellido'].errors!['required'] && regForm2.controls['apellido'].touched">
              El apellido es requerido
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="edad">Edad:</label>
          <input type="number" class="form-control" id="edad" name="edad" [(ngModel)]="especialista.edad" formControlName="edad">
          <div *ngIf="regForm2.controls['edad'].errors != null">
            <small class="text-danger" *ngIf="regForm2.controls['edad'].errors!['required'] && regForm2.controls['edad'].touched">
              La edad es requerida
            </small>
            <small class="text-danger" *ngIf="regForm2.controls['edad'].errors!['max'] && regForm2.controls['edad'].touched">
              La edad no es válida
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="DNI">DNI:</label>
          <input type="number" class="form-control" id="DNI" name="DNI" [(ngModel)]="especialista.DNI" formControlName="DNI">
          <div *ngIf="regForm2.controls['DNI'].errors != null">
            <small class="text-danger" *ngIf="regForm2.controls['DNI'].errors!['required'] && regForm2.controls['DNI'].touched">
              El DNI es requerido
            </small>
            <small class="text-danger" *ngIf="regForm2.controls['DNI'].errors!['max'] && regForm2.controls['DNI'].touched">
              El DNI no es válido
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="especialidad">Especialidad:</label>
          <p  class="form-control" style="color: black; width: 600px">{{ especialidadSeleccionada }}</p>
        </div>
        <div class="form-group">
          <label for="mail">Mail:</label>
          <input type="email" class="form-control" id="mail" name="mail" [(ngModel)]="especialista.mail" formControlName="mail">
          <div *ngIf="regForm2.controls['mail'].errors != null">
            <small class="text-danger" *ngIf="regForm2.controls['mail'].errors!['required'] && regForm2.controls['mail'].touched">
              El mail es requerido
            </small>
            <small class="text-danger" *ngIf="regForm2.controls['mail'].errors!['email'] && regForm2.controls['mail'].touched">
              El formato del mail no es válido
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="password">Contraseña:</label>
          <input type="password" class="form-control" id="password" name="password" [(ngModel)]="especialista.password" formControlName="password">
          <div *ngIf="regForm2.controls['password'].errors != null">
            <small class="text-danger" *ngIf="regForm2.controls['password'].errors!['required'] && regForm2.controls['password'].touched">
              La contraseña es requerida
            </small>
            <small class="text-danger" *ngIf="regForm2.controls['password'].errors!['minlength'] && regForm2.controls['password'].touched">
              La contraseña debe contener al menos 6 caracteres
            </small>
          </div>
        </div>
        <div class="form-group">
          <label for="foto1">Foto 1:</label>
          <input type="file" class="form-control" (change)="onFileSelected3($event)" id="foto1" name="foto1" [(ngModel)]="especialista.foto1" formControlName="foto1">
          <div *ngIf="regForm2.controls['foto1'].errors != null">
            <small class="text-danger" *ngIf="regForm2.controls['foto1'].errors!['required'] && regForm2.controls['foto1'].touched">
              La foto 1 es requerida
            </small>
          </div>
        </div>
       </div> <!--div contenedor -->       
      <button style="margin-left: 25px; font-size: 20px;" type="submit" class="btn btn-primary mt-3 custom-button" >Registrarse</button>
    </form>
    <div *ngIf="tipoRegistro === 'especialista'" class="right-column">
      <app-especialidades (especialidadSeleccionada)="manejarEspecialidadSeleccionada($event)"></app-especialidades>
    </div>
  </div>
  